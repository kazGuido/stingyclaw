services:
  voice:
    image: stingyclaw-voice
    build:
      context: ./container/voice-service
    container_name: stingyclaw-voice
    restart: unless-stopped
    ports:
      - "127.0.0.1:8001:8001"
    volumes:
      # Qwen3-TTS and Whisper cache persist across rebuilds
      - voice-models:/models
    environment:
      WHISPER_MODEL: small
      TTS_MODEL: Qwen/Qwen3-TTS-12Hz-0.6B-CustomVoice   # 0.6B for CPU; use 1.7B for quality
      DEFAULT_SPEAKER: Ryan                             # Ryan, Aiden, Vivian, Serena, etc.

volumes:
  voice-models:
